<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri Oct 04 14:16:58 EEST 2024 -->
<title>CronWorkflow (nflow 10.0.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-10-04">
<meta name="description" content="declaration: package: io.nflow.engine.workflow.curated, class: CronWorkflow">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CronWorkflow.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.nflow.engine.workflow.curated</a></div>
<h1 title="Class CronWorkflow" class="title">Class CronWorkflow</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../../model/ModelObject.html" title="class in io.nflow.engine.model">io.nflow.engine.model.ModelObject</a>
<div class="inheritance"><a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">io.nflow.engine.workflow.definition.WorkflowDefinition</a>
<div class="inheritance">io.nflow.engine.workflow.curated.CronWorkflow</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="MaintenanceWorkflow.html" title="class in io.nflow.engine.workflow.curated">MaintenanceWorkflow</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">CronWorkflow</span>
<span class="extends-implements">extends <a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">WorkflowDefinition</a></span></div>
<div class="block">Workflow that wakes up periodically to execute a task.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></div>
<div class="col-second even-row-color"><code><a href="#DISABLED" class="member-name-link">DISABLED</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></div>
<div class="col-second odd-row-color"><code><a href="#DO_WORK" class="member-name-link">DO_WORK</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></div>
<div class="col-second even-row-color"><code><a href="#FAILED" class="member-name-link">FAILED</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></div>
<div class="col-second odd-row-color"><code><a href="#HANDLE_FAILURE" class="member-name-link">HANDLE_FAILURE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></div>
<div class="col-second even-row-color"><code><a href="#SCHEDULE" class="member-name-link">SCHEDULE</a></code></div>
<div class="col-last even-row-color">
<div class="block">States of cron workflow.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#VAR_SCHEDULE" class="member-name-link">VAR_SCHEDULE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Name of the state variable that stores schedule in cron syntax.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></div>
<div class="col-second even-row-color"><code><a href="#WAIT_FOR_WORK_TO_FINISH" class="member-name-link">WAIT_FOR_WORK_TO_FINISH</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-io.nflow.engine.workflow.definition.WorkflowDefinition">Fields inherited from class&nbsp;io.nflow.engine.workflow.definition.<a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">WorkflowDefinition</a></h3>
<code><a href="../definition/WorkflowDefinition.html#allowedTransitions">allowedTransitions</a>, <a href="../definition/WorkflowDefinition.html#failureTransitions">failureTransitions</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String)" class="member-name-link">CronWorkflow</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type)</code></div>
<div class="col-last even-row-color">
<div class="block">Extend cron workflow definition.</div>
</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.lang.String,io.nflow.engine.workflow.definition.WorkflowSettings)" class="member-name-link">CronWorkflow</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type,
 <a href="../definition/WorkflowSettings.html" title="class in io.nflow.engine.workflow.definition">WorkflowSettings</a>&nbsp;settings)</code></div>
<div class="col-last odd-row-color">
<div class="block">Extend cron workflow definition with customized workflow settings.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.joda.time.DateTime</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)" class="member-name-link">getNextActivationTime</a><wbr>(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cron)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates next activation time based on cron state variable.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleFailure(io.nflow.engine.workflow.definition.StateExecution)" class="member-name-link">handleFailure</a><wbr>(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tries to handle failures by calling <a href="#handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)" class="member-name-link">handleFailureImpl</a><wbr>(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Logs an error and continues.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#schedule(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)" class="member-name-link">schedule</a><wbr>(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cron)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines the next execution time for the doWork state by calling <a href="#getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)"><code>getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution, java.lang.String)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#waitForWorkToFinish(io.nflow.engine.workflow.definition.StateExecution)" class="member-name-link">waitForWorkToFinish</a><wbr>(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calls <a href="#waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a> to check if this instance should wait for work to finish or move to schedule state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected org.joda.time.DateTime</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)" class="member-name-link">waitForWorkToFinishImpl</a><wbr>(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns null to move to schedule state immediately if there are no incomplete child workflows, or current time plus 1 hour
 to check again later.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.nflow.engine.workflow.definition.WorkflowDefinition">Methods inherited from class&nbsp;io.nflow.engine.workflow.definition.<a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">WorkflowDefinition</a></h3>
<code><a href="../definition/WorkflowDefinition.html#getAllowedTransitions()">getAllowedTransitions</a>, <a href="../definition/WorkflowDefinition.html#getDescription()">getDescription</a>, <a href="../definition/WorkflowDefinition.html#getErrorState()">getErrorState</a>, <a href="../definition/WorkflowDefinition.html#getFailureTransitions()">getFailureTransitions</a>, <a href="../definition/WorkflowDefinition.html#getInitialState()">getInitialState</a>, <a href="../definition/WorkflowDefinition.html#getMethod(io.nflow.engine.workflow.definition.WorkflowState)">getMethod</a>, <a href="../definition/WorkflowDefinition.html#getMethod(java.lang.String)">getMethod</a>, <a href="../definition/WorkflowDefinition.html#getName()">getName</a>, <a href="../definition/WorkflowDefinition.html#getSettings()">getSettings</a>, <a href="../definition/WorkflowDefinition.html#getState(java.lang.String)">getState</a>, <a href="../definition/WorkflowDefinition.html#getStates()">getStates</a>, <a href="../definition/WorkflowDefinition.html#getSupportedSignals()">getSupportedSignals</a>, <a href="../definition/WorkflowDefinition.html#getType()">getType</a>, <a href="../definition/WorkflowDefinition.html#isAllowedNextAction(io.nflow.engine.workflow.instance.WorkflowInstance,io.nflow.engine.workflow.definition.NextAction)">isAllowedNextAction</a>, <a href="../definition/WorkflowDefinition.html#isStartState(java.lang.String)">isStartState</a>, <a href="../definition/WorkflowDefinition.html#permit(io.nflow.engine.workflow.definition.WorkflowState,io.nflow.engine.workflow.definition.WorkflowState)">permit</a>, <a href="../definition/WorkflowDefinition.html#permit(io.nflow.engine.workflow.definition.WorkflowState,io.nflow.engine.workflow.definition.WorkflowState,io.nflow.engine.workflow.definition.WorkflowState)">permit</a>, <a href="../definition/WorkflowDefinition.html#registerState(io.nflow.engine.workflow.definition.WorkflowState)">registerState</a>, <a href="../definition/WorkflowDefinition.html#setDescription(java.lang.String)">setDescription</a>, <a href="../definition/WorkflowDefinition.html#setName(java.lang.String)">setName</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-io.nflow.engine.model.ModelObject">Methods inherited from class&nbsp;io.nflow.engine.model.<a href="../../model/ModelObject.html" title="class in io.nflow.engine.model">ModelObject</a></h3>
<code><a href="../../model/ModelObject.html#equals(java.lang.Object)">equals</a>, <a href="../../model/ModelObject.html#hashCode()">hashCode</a>, <a href="../../model/ModelObject.html#toString()">toString</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="VAR_SCHEDULE">
<h3>VAR_SCHEDULE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">VAR_SCHEDULE</span></div>
<div class="block">Name of the state variable that stores schedule in cron syntax.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#io.nflow.engine.workflow.curated.CronWorkflow.VAR_SCHEDULE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="SCHEDULE">
<h3>SCHEDULE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></span>&nbsp;<span class="element-name">SCHEDULE</span></div>
<div class="block">States of cron workflow.</div>
</section>
</li>
<li>
<section class="detail" id="DO_WORK">
<h3>DO_WORK</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></span>&nbsp;<span class="element-name">DO_WORK</span></div>
</section>
</li>
<li>
<section class="detail" id="WAIT_FOR_WORK_TO_FINISH">
<h3>WAIT_FOR_WORK_TO_FINISH</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></span>&nbsp;<span class="element-name">WAIT_FOR_WORK_TO_FINISH</span></div>
</section>
</li>
<li>
<section class="detail" id="HANDLE_FAILURE">
<h3>HANDLE_FAILURE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></span>&nbsp;<span class="element-name">HANDLE_FAILURE</span></div>
</section>
</li>
<li>
<section class="detail" id="DISABLED">
<h3>DISABLED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></span>&nbsp;<span class="element-name">DISABLED</span></div>
</section>
</li>
<li>
<section class="detail" id="FAILED">
<h3>FAILED</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></span>&nbsp;<span class="element-name">FAILED</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String,io.nflow.engine.workflow.definition.WorkflowSettings)">
<h3>CronWorkflow</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">CronWorkflow</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type,
 <a href="../definition/WorkflowSettings.html" title="class in io.nflow.engine.workflow.definition">WorkflowSettings</a>&nbsp;settings)</span></div>
<div class="block">Extend cron workflow definition with customized workflow settings. It is recommended to enable the workflow state and action
 history cleanup. Extending class must implement the 'doWork` state method. For example:

 <pre>
 public NextAction doWork(StateExecution execution) {
   // do the work here
   return NextAction.moveToState(schedule, "Work done");
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - The type of the workflow.</dd>
<dd><code>settings</code> - The workflow settings.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String)">
<h3>CronWorkflow</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">CronWorkflow</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;type)</span></div>
<div class="block">Extend cron workflow definition. Uses workflow settings that enable automatic workflow state and action history cleanup
 (delete history older than 45 days, run cleanup once per day). Extending class must implement the 'doWork` state method. For
 example:

 <pre>
 public NextAction doWork(StateExecution execution) {
   // do the work here
   if (rescheduleImmediately) {
     return NextAction.moveToState(schedule, "Work done");
   }
   return NextAction.moveToStateAfter(waitForWorkToFinish, DateTime.now().plusHours(hoursToWait), "Waiting for work to finish");
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - The type of the workflow.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="schedule(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)">
<h3>schedule</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></span>&nbsp;<span class="element-name">schedule</span><wbr><span class="parameters">(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cron)</span></div>
<div class="block">Determines the next execution time for the doWork state by calling <a href="#getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)"><code>getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution, java.lang.String)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dd><code>cron</code> - The cron state variable.</dd>
<dt>Returns:</dt>
<dd>Action to go to doWork state at scheduled time.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)">
<h3>getNextActivationTime</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.joda.time.DateTime</span>&nbsp;<span class="element-name">getNextActivationTime</span><wbr><span class="parameters">(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cron)</span></div>
<div class="block">Calculates next activation time based on cron state variable. Override for custom scheduling.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dd><code>cron</code> - The cron schedule.</dd>
<dt>Returns:</dt>
<dd>The next activation time.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleFailure(io.nflow.engine.workflow.definition.StateExecution)">
<h3>handleFailure</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></span>&nbsp;<span class="element-name">handleFailure</span><wbr><span class="parameters">(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</span></div>
<div class="block">Tries to handle failures by calling <a href="#handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt>Returns:</dt>
<dd>Action to go to schedule or failed state.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)">
<h3>handleFailureImpl</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">handleFailureImpl</span><wbr><span class="parameters">(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</span></div>
<div class="block">Logs an error and continues. Override for custom error handling.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt>Returns:</dt>
<dd>True if workflow should be rescheduled. False to go to failed state and wait for manual actions.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="waitForWorkToFinish(io.nflow.engine.workflow.definition.StateExecution)">
<h3>waitForWorkToFinish</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></span>&nbsp;<span class="element-name">waitForWorkToFinish</span><wbr><span class="parameters">(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</span></div>
<div class="block">Calls <a href="#waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a> to check if this instance should wait for work to finish or move to schedule state.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt>Returns:</dt>
<dd>Action to retry later or move to schedule state.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)">
<h3>waitForWorkToFinishImpl</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">org.joda.time.DateTime</span>&nbsp;<span class="element-name">waitForWorkToFinishImpl</span><wbr><span class="parameters">(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</span></div>
<div class="block">Returns null to move to schedule state immediately if there are no incomplete child workflows, or current time plus 1 hour
 to check again later. Override for custom logic.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt>Returns:</dt>
<dd>Time when check should be retried. Null to go to schedule state immediately.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2014&#x2013;2024 <a href="https://www.nitor.com">Nitor Creations</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
