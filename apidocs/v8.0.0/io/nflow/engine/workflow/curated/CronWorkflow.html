<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.15) on Thu Jun 09 16:06:00 EEST 2022 -->
<title>CronWorkflow (nflow 8.0.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-06-09">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CronWorkflow (nflow 8.0.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CronWorkflow.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.nflow.engine.workflow.curated</a></div>
<h2 title="Class CronWorkflow" class="title">Class CronWorkflow</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../model/ModelObject.html" title="class in io.nflow.engine.model">io.nflow.engine.model.ModelObject</a></li>
<li>
<ul class="inheritance">
<li><a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">io.nflow.engine.workflow.definition.WorkflowDefinition</a></li>
<li>
<ul class="inheritance">
<li>io.nflow.engine.workflow.curated.CronWorkflow</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="MaintenanceWorkflow.html" title="class in io.nflow.engine.workflow.curated">MaintenanceWorkflow</a></code>, <code><a href="../../../tests/demo/workflow/TestCronWorkflow.html" title="class in io.nflow.tests.demo.workflow">TestCronWorkflow</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">CronWorkflow</span>
extends <a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">WorkflowDefinition</a></pre>
<div class="block">Workflow that wakes up periodically to execute a task.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DISABLED">DISABLED</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DO_WORK">DO_WORK</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#FAILED">FAILED</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#HANDLE_FAILURE">HANDLE_FAILURE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SCHEDULE">SCHEDULE</a></span></code></th>
<td class="colLast">
<div class="block">States of cron workflow.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#VAR_SCHEDULE">VAR_SCHEDULE</a></span></code></th>
<td class="colLast">
<div class="block">Name of the state variable that stores schedule in cron syntax.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#WAIT_FOR_WORK_TO_FINISH">WAIT_FOR_WORK_TO_FINISH</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.io.nflow.engine.workflow.definition.WorkflowDefinition">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;io.nflow.engine.workflow.definition.<a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">WorkflowDefinition</a></h3>
<code><a href="../definition/WorkflowDefinition.html#allowedTransitions">allowedTransitions</a>, <a href="../definition/WorkflowDefinition.html#failureTransitions">failureTransitions</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">CronWorkflow</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;type)</code></th>
<td class="colLast">
<div class="block">Extend cron workflow definition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String,io.nflow.engine.workflow.definition.WorkflowSettings)">CronWorkflow</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;type,
            <a href="../definition/WorkflowSettings.html" title="class in io.nflow.engine.workflow.definition">WorkflowSettings</a>&nbsp;settings)</code></th>
<td class="colLast">
<div class="block">Extend cron workflow definition with customized workflow settings.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected org.joda.time.DateTime</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)">getNextActivationTime</a></span>&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cron)</code></th>
<td class="colLast">
<div class="block">Calculates next activation time based on cron state variable.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleFailure(io.nflow.engine.workflow.definition.StateExecution)">handleFailure</a></span>&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></th>
<td class="colLast">
<div class="block">Tries to handle failures by calling <a href="#handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)">handleFailureImpl</a></span>&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></th>
<td class="colLast">
<div class="block">Logs an error and continues.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#schedule(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)">schedule</a></span>&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cron)</code></th>
<td class="colLast">
<div class="block">Determines the next execution time for the doWork state by calling <a href="#getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)"><code>getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution, java.lang.String)</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForWorkToFinish(io.nflow.engine.workflow.definition.StateExecution)">waitForWorkToFinish</a></span>&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></th>
<td class="colLast">
<div class="block">Calls <a href="#waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a> to check if this instance should wait for work to finish or move to schedule state.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected org.joda.time.DateTime</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)">waitForWorkToFinishImpl</a></span>&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</code></th>
<td class="colLast">
<div class="block">Returns null to move to schedule state immediately if there are no incomplete child workflows, or current time plus 1 hour
 to check again later.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.nflow.engine.workflow.definition.WorkflowDefinition">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.nflow.engine.workflow.definition.<a href="../definition/WorkflowDefinition.html" title="class in io.nflow.engine.workflow.definition">WorkflowDefinition</a></h3>
<code><a href="../definition/WorkflowDefinition.html#getAllowedTransitions()">getAllowedTransitions</a>, <a href="../definition/WorkflowDefinition.html#getDescription()">getDescription</a>, <a href="../definition/WorkflowDefinition.html#getErrorState()">getErrorState</a>, <a href="../definition/WorkflowDefinition.html#getFailureTransitions()">getFailureTransitions</a>, <a href="../definition/WorkflowDefinition.html#getInitialState()">getInitialState</a>, <a href="../definition/WorkflowDefinition.html#getMethod(io.nflow.engine.workflow.definition.WorkflowState)">getMethod</a>, <a href="../definition/WorkflowDefinition.html#getMethod(java.lang.String)">getMethod</a>, <a href="../definition/WorkflowDefinition.html#getName()">getName</a>, <a href="../definition/WorkflowDefinition.html#getSettings()">getSettings</a>, <a href="../definition/WorkflowDefinition.html#getState(java.lang.String)">getState</a>, <a href="../definition/WorkflowDefinition.html#getStates()">getStates</a>, <a href="../definition/WorkflowDefinition.html#getSupportedSignals()">getSupportedSignals</a>, <a href="../definition/WorkflowDefinition.html#getType()">getType</a>, <a href="../definition/WorkflowDefinition.html#isAllowedNextAction(io.nflow.engine.workflow.instance.WorkflowInstance,io.nflow.engine.workflow.definition.NextAction)">isAllowedNextAction</a>, <a href="../definition/WorkflowDefinition.html#isStartState(java.lang.String)">isStartState</a>, <a href="../definition/WorkflowDefinition.html#permit(io.nflow.engine.workflow.definition.WorkflowState,io.nflow.engine.workflow.definition.WorkflowState)">permit</a>, <a href="../definition/WorkflowDefinition.html#permit(io.nflow.engine.workflow.definition.WorkflowState,io.nflow.engine.workflow.definition.WorkflowState,io.nflow.engine.workflow.definition.WorkflowState)">permit</a>, <a href="../definition/WorkflowDefinition.html#registerState(io.nflow.engine.workflow.definition.WorkflowState)">registerState</a>, <a href="../definition/WorkflowDefinition.html#setDescription(java.lang.String)">setDescription</a>, <a href="../definition/WorkflowDefinition.html#setName(java.lang.String)">setName</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.io.nflow.engine.model.ModelObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.nflow.engine.model.<a href="../../model/ModelObject.html" title="class in io.nflow.engine.model">ModelObject</a></h3>
<code><a href="../../model/ModelObject.html#equals(java.lang.Object)">equals</a>, <a href="../../model/ModelObject.html#hashCode()">hashCode</a>, <a href="../../model/ModelObject.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="VAR_SCHEDULE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VAR_SCHEDULE</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> VAR_SCHEDULE</pre>
<div class="block">Name of the state variable that stores schedule in cron syntax.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#io.nflow.engine.workflow.curated.CronWorkflow.VAR_SCHEDULE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SCHEDULE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SCHEDULE</h4>
<pre>public static final&nbsp;<a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a> SCHEDULE</pre>
<div class="block">States of cron workflow.</div>
</li>
</ul>
<a id="DO_WORK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DO_WORK</h4>
<pre>public static final&nbsp;<a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a> DO_WORK</pre>
</li>
</ul>
<a id="WAIT_FOR_WORK_TO_FINISH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WAIT_FOR_WORK_TO_FINISH</h4>
<pre>public static final&nbsp;<a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a> WAIT_FOR_WORK_TO_FINISH</pre>
</li>
</ul>
<a id="HANDLE_FAILURE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HANDLE_FAILURE</h4>
<pre>public static final&nbsp;<a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a> HANDLE_FAILURE</pre>
</li>
</ul>
<a id="DISABLED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DISABLED</h4>
<pre>public static final&nbsp;<a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a> DISABLED</pre>
</li>
</ul>
<a id="FAILED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FAILED</h4>
<pre>public static final&nbsp;<a href="../definition/WorkflowState.html" title="interface in io.nflow.engine.workflow.definition">WorkflowState</a> FAILED</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String,io.nflow.engine.workflow.definition.WorkflowSettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CronWorkflow</h4>
<pre>protected&nbsp;CronWorkflow&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;type,
                       <a href="../definition/WorkflowSettings.html" title="class in io.nflow.engine.workflow.definition">WorkflowSettings</a>&nbsp;settings)</pre>
<div class="block">Extend cron workflow definition with customized workflow settings. It is recommended to enable the workflow state and action
 history cleanup. Extending class must implement the 'doWork` state method. For example:

 <pre>
 public NextAction doWork(StateExecution execution) {
   // do the work here
   return NextAction.moveToState(schedule, "Work done");
 }
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - The type of the workflow.</dd>
<dd><code>settings</code> - The workflow settings.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CronWorkflow</h4>
<pre>protected&nbsp;CronWorkflow&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;type)</pre>
<div class="block">Extend cron workflow definition. Uses workflow settings that enable automatic workflow state and action history cleanup
 (delete history older than 45 days, run cleanup once per day). Extending class must implement the 'doWork` state method. For
 example:

 <pre>
 public NextAction doWork(StateExecution execution) {
   // do the work here
   if (rescheduleImmediately) {
     return NextAction.moveToState(schedule, "Work done");
   }
   return NextAction.moveToStateAfter(waitForWorkToFinish, DateTime.now().plusHours(hoursToWait), "Waiting for work to finish");
 }
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - The type of the workflow.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="schedule(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>schedule</h4>
<pre class="methodSignature">public&nbsp;<a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a>&nbsp;schedule&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
                           <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cron)</pre>
<div class="block">Determines the next execution time for the doWork state by calling <a href="#getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)"><code>getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution, java.lang.String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dd><code>cron</code> - The cron state variable.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Action to go to doWork state at scheduled time.</dd>
</dl>
</li>
</ul>
<a id="getNextActivationTime(io.nflow.engine.workflow.definition.StateExecution,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextActivationTime</h4>
<pre class="methodSignature">protected&nbsp;org.joda.time.DateTime&nbsp;getNextActivationTime&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution,
                                                       <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;cron)</pre>
<div class="block">Calculates next activation time based on cron state variable. Override for custom scheduling.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dd><code>cron</code> - The cron schedule.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The next activation time.</dd>
</dl>
</li>
</ul>
<a id="handleFailure(io.nflow.engine.workflow.definition.StateExecution)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleFailure</h4>
<pre class="methodSignature">public&nbsp;<a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a>&nbsp;handleFailure&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</pre>
<div class="block">Tries to handle failures by calling <a href="#handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Action to go to schedule or failed state.</dd>
</dl>
</li>
</ul>
<a id="handleFailureImpl(io.nflow.engine.workflow.definition.StateExecution)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleFailureImpl</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;handleFailureImpl&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</pre>
<div class="block">Logs an error and continues. Override for custom error handling.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if workflow should be rescheduled. False to go to failed state and wait for manual actions.</dd>
</dl>
</li>
</ul>
<a id="waitForWorkToFinish(io.nflow.engine.workflow.definition.StateExecution)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForWorkToFinish</h4>
<pre class="methodSignature">public&nbsp;<a href="../definition/NextAction.html" title="class in io.nflow.engine.workflow.definition">NextAction</a>&nbsp;waitForWorkToFinish&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</pre>
<div class="block">Calls <a href="#waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)"><code>waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)</code></a> to check if this instance should wait for work to finish or move to schedule state.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Action to retry later or move to schedule state.</dd>
</dl>
</li>
</ul>
<a id="waitForWorkToFinishImpl(io.nflow.engine.workflow.definition.StateExecution)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>waitForWorkToFinishImpl</h4>
<pre class="methodSignature">protected&nbsp;org.joda.time.DateTime&nbsp;waitForWorkToFinishImpl&#8203;(<a href="../definition/StateExecution.html" title="interface in io.nflow.engine.workflow.definition">StateExecution</a>&nbsp;execution)</pre>
<div class="block">Returns null to move to schedule state immediately if there are no incomplete child workflows, or current time plus 1 hour
 to check again later. Override for custom logic.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>execution</code> - The workflow execution context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Time when check should be retried. Null to go to schedule state immediately.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CronWorkflow.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2022 <a href="https://www.nitor.com">Nitor Creations</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
