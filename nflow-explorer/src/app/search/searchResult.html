<div>
  <h2>Workflows</h2>
  <div class="alert alert-info" role="alert" ng-hide="ctrl.results.length">
    No workflow instances found
  </div>
  <table st-table="displayedResults" st-safe-src="ctrl.results" ng-show="ctrl.results.length" id="search-result" class="table table-striped table-hover">
    <thead>
      <tr class="clickable-header">
        <th st-sort="id">Id</th>
        <th st-sort="type">Workflow type</th>
        <th st-sort="state">State</th>
        <th st-sort="stateText">State text</th>
        <th st-sort="status">Status</th>
        <th st-sort="businessKey">Business key</th>
        <th st-sort="externalId">External id</th>
        <th st-sort="retries">Retries</th>
        <th st-sort="created">Created</th>
        <th st-sort="started">Started</th>
        <th st-sort="modified">Modified</th>
        <th st-sort="nextActivation">Next activation</th>
      </tr>
    </thead>
    <tbody>
    <tr ng-repeat="result in displayedResults" ng-class="ctrl.getStateClass(result)">
      <td><a ui-sref="workflow({id: result.id})">{{result.id}}</a></td>
      <td><a ui-sref="workflow({id: result.id})">{{result.type}}</a></td>
      <td>{{result.state}}</td>
      <td>{{result.stateText}}</td>
      <td>{{result.status}}</td>
      <td>{{result.businessKey}}</td>
      <td>{{result.externalId}}</td>
      <td>{{result.retries}}</td>
      <td title="{{result.created | fromNowOrNever}}">{{result.created | date:'yyyy-MM-dd HH:mm:ss'}}</td>
      <td title="{{result.started | fromNowOrNever}}">{{result.started | date:'yyyy-MM-dd HH:mm:ss'}}</td>
      <td title="{{result.modified | fromNowOrNever}}">{{result.modified | date:'yyyy-MM-dd HH:mm:ss'}}</td>
      <td title="{{result.nextActivation | fromNowOrNever}}">{{result.nextActivation | date:'yyyy-MM-dd HH:mm:ss'}}</td>
    </tr>
    </tbody>
  </table>
</div>
